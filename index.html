<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://xplosivex.github.io/ConfessionBooth/csssheet.css">
</head>
<body>

<h2 style="text-align:center;">Confession Booth</h2>

  <table style="width:100%">
  <tr>
    <th> 
        <form name="submit-to-google-sheet">
        <button style="border:black solid 1px; border-radius:10px;">BUTTON TO CYCLE</button>    
    <button type="submit" onclick="cleartextbox()" style="border:black solid 1px; border-radius:10px;">BUTTON TO SUBMIT</button>
            <textarea maxlength="300" name="confession" type="text" id="textinput" rows="20%" cols="45%" wrap="soft" style="border:black solid 1px; font-size: 18pt; border-radius:15px; width:100%; height:100%;"> </textarea>
    </form>    
            </th>
  </tr>
</table>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyhferKoM3lawXmfUHRrnjQC1vEexIbDdcYgLl-xY0tH2cjdKBjLNFExw/exec'
  const form = document.forms['submit-to-google-sheet']

  form.addEventListener('submit', e => {
    e.preventDefault()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => console.log('Success!', response))
      .catch(error => console.error('Error!', error.message))
  })
</script>
<script>
function cleartextbox(){
var textequal = document.getElementById("textinput").value
if (textequal.length > 300){
document.getElementById("textinput").value = "text is more than 300";
}
else if(textequal.length = 0){
document.getElementById("textinput").value = "text is 0";
} else {
document.getElementById("textinput").value = "";
}
document.getElementById("textinput").value = ""     
</script>
</body>
</html>
